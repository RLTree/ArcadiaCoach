{
  "version": "1.0",
  "id": "arcadia_chatbot",
  "name": "Chatbot Window",
  "template": "{\"type\":\"Card\",\"size\":\"md\",\"padding\":0,\"children\":[{\"type\":\"Col\",\"gap\":0,\"children\":[{\"type\":\"Row\",\"align\":\"center\",\"padding\":{\"x\":4,\"y\":3},\"children\":[{\"type\":\"Icon\",\"name\":\"sparkle\",\"color\":\"primary\",\"children\":[]},{\"type\":\"Title\",\"value\":{{ (title) | tojson }},\"size\":\"sm\",\"children\":[]},{\"type\":\"Spacer\",\"children\":[]},{\"type\":\"Badge\",\"label\":{{ (levelLabel) | tojson }},\"color\":\"info\",\"children\":[]}]},{\"type\":\"Divider\",\"flush\":true,\"children\":[]},{\"type\":\"Col\",\"padding\":4,\"gap\":2,\"minHeight\":\"180px\",\"children\":[{%- set _c -%}{%-for m in messages -%},{\"type\":\"Row\",\"key\":{{ (m.id) | tojson }},\"justify\":{% if m.role === \"user\" %}\"end\"{% else %}\"start\"{% endif %},\"children\":[{\"type\":\"Box\",\"padding\":3,\"radius\":\"xl\",\"maxWidth\":\"80%\",\"background\":{% if m.role === \"user\" %}\"surface-secondary\"{% else %}\"surface-elevated-secondary\"{% endif %},\"border\":{\"size\":1},\"children\":[{\"type\":\"Text\",\"value\":{{ (m.text) | tojson }},\"size\":\"sm\",\"children\":[]}]}]}{%-endfor-%}{%-if showTonePicker -%},{\"type\":\"Transition\",\"children\":[{\"type\":\"Box\",\"key\":\"tone\",\"background\":\"surface-elevated-secondary\",\"padding\":3,\"radius\":\"lg\",\"border\":{\"size\":1},\"children\":[{\"type\":\"Row\",\"gap\":2,\"wrap\":\"wrap\",\"children\":[{%- set _c -%}{%-for item in levels -%},{\"type\":\"Button\",\"key\":{{ (item.value) | tojson }},\"size\":\"sm\",\"label\":{{ (item.label) | tojson }},\"variant\":{% if item.value === level %}\"solid\"{% else %}\"outline\"{% endif %},\"color\":{% if item.value === level %}\"primary\"{% else %}\"secondary\"{% endif %},\"onClickAction\":{\"type\":\"chat.setLevel\",\"payload\":{\"level\":{{ (item.value) | tojson }}}},\"children\":[]}{%-endfor-%}{%- endset -%}{{- (_c[1:] if _c and _c[0] == ',' else _c) -}}]}]}]}{%-else-%}{%-endif-%}{%- endset -%}{{- (_c[1:] if _c and _c[0] == ',' else _c) -}}]},{\"type\":\"Divider\",\"flush\":true,\"children\":[]},{\"type\":\"Row\",\"align\":\"center\",\"padding\":{\"x\":4,\"y\":3},\"gap\":2,\"background\":\"surface-elevated-secondary\",\"children\":[{\"type\":\"Button\",\"iconStart\":\"globe\",\"uniform\":true,\"size\":\"lg\",\"variant\":{% if webEnabled %}\"solid\"{% else %}\"outline\"{% endif %},\"color\":{% if webEnabled %}\"info\"{% else %}\"secondary\"{% endif %},\"onClickAction\":{\"type\":\"chat.toggleWeb\"},\"children\":[]},{\"type\":\"Button\",\"iconStart\":\"lightbulb\",\"uniform\":true,\"size\":\"lg\",\"variant\":{% if showTonePicker %}\"solid\"{% else %}\"outline\"{% endif %},\"color\":\"secondary\",\"onClickAction\":{\"type\":\"chat.toggleTone\"},\"children\":[]},{\"type\":\"Button\",\"iconStart\":\"plus\",\"uniform\":true,\"size\":\"lg\",\"variant\":\"outline\",\"color\":\"secondary\",\"onClickAction\":{\"type\":\"chat.add\"},\"children\":[]},{\"type\":\"Spacer\",\"children\":[]},{\"type\":\"Caption\",\"value\":{{ ((\"Level: \" ~ levelLabel)) | tojson }},\"color\":\"secondary\",\"children\":[]}]}]}]}",
  "jsonSchema": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "widget",
    "type": "object",
    "properties": {
      "title": {
        "type": "string"
      },
      "webEnabled": {
        "type": "boolean"
      },
      "showTonePicker": {
        "type": "boolean"
      },
      "level": {
        "type": "string"
      },
      "levelLabel": {
        "type": "string"
      },
      "levels": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "value": {
              "type": "string"
            },
            "label": {
              "type": "string"
            }
          },
          "required": [
            "value",
            "label"
          ],
          "additionalProperties": false
        },
        "minItems": 4
      },
      "messages": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string"
            },
            "role": {
              "type": "string"
            },
            "text": {
              "type": "string"
            }
          },
          "required": [
            "id",
            "role",
            "text"
          ],
          "additionalProperties": false
        },
        "minItems": 0
      }
    },
    "required": [
      "title",
      "webEnabled",
      "showTonePicker",
      "level",
      "levelLabel",
      "levels",
      "messages"
    ],
    "additionalProperties": false
  },
  "outputJsonPreview": {
    "type": "Card",
    "size": "md",
    "padding": 0,
    "children": [
      {
        "type": "Col",
        "gap": 0,
        "children": [
          {
            "type": "Row",
            "align": "center",
            "padding": {
              "x": 4,
              "y": 3
            },
            "children": [
              {
                "type": "Icon",
                "name": "sparkle",
                "color": "primary"
              },
              {
                "type": "Title",
                "value": "Arcadia",
                "size": "sm"
              },
              {
                "type": "Spacer"
              },
              {
                "type": "Badge",
                "label": "Medium",
                "color": "info"
              }
            ]
          },
          {
            "type": "Divider",
            "flush": true
          },
          {
            "type": "Col",
            "padding": 4,
            "gap": 2,
            "minHeight": "180px",
            "children": [
              {
                "type": "Row",
                "key": "m1",
                "justify": "start",
                "children": [
                  {
                    "type": "Box",
                    "padding": 3,
                    "radius": "xl",
                    "maxWidth": "80%",
                    "background": "surface-elevated-secondary",
                    "border": {
                      "size": 1
                    },
                    "children": [
                      {
                        "type": "Text",
                        "value": "Hi! Ask me anything.",
                        "size": "sm"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "Row",
                "key": "m2",
                "justify": "end",
                "children": [
                  {
                    "type": "Box",
                    "padding": 3,
                    "radius": "xl",
                    "maxWidth": "80%",
                    "background": "surface-secondary",
                    "border": {
                      "size": 1
                    },
                    "children": [
                      {
                        "type": "Text",
                        "value": "Give me ideas for a weekend project.",
                        "size": "sm"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "Row",
                "key": "m3",
                "justify": "start",
                "children": [
                  {
                    "type": "Box",
                    "padding": 3,
                    "radius": "xl",
                    "maxWidth": "80%",
                    "background": "surface-elevated-secondary",
                    "border": {
                      "size": 1
                    },
                    "children": [
                      {
                        "type": "Text",
                        "value": "Try a weather app, a chatbot, or a note tool.",
                        "size": "sm"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "Divider",
            "flush": true
          },
          {
            "type": "Row",
            "align": "center",
            "padding": {
              "x": 4,
              "y": 3
            },
            "gap": 2,
            "background": "surface-elevated-secondary",
            "children": [
              {
                "type": "Button",
                "iconStart": "globe",
                "uniform": true,
                "size": "lg",
                "variant": "outline",
                "color": "secondary",
                "onClickAction": {
                  "type": "chat.toggleWeb"
                }
              },
              {
                "type": "Button",
                "iconStart": "lightbulb",
                "uniform": true,
                "size": "lg",
                "variant": "outline",
                "color": "secondary",
                "onClickAction": {
                  "type": "chat.toggleTone"
                }
              },
              {
                "type": "Button",
                "iconStart": "plus",
                "uniform": true,
                "size": "lg",
                "variant": "outline",
                "color": "secondary",
                "onClickAction": {
                  "type": "chat.add"
                }
              },
              {
                "type": "Spacer"
              },
              {
                "type": "Caption",
                "value": "Level: Medium",
                "color": "secondary"
              }
            ]
          }
        ]
      }
    ]
  },
  "encodedWidget": "eyJpZCI6IjZlZWQzYWQyLTNlZGItNDQwYS1iMTRlLTcxMDc5NjNmNjc3MyIsIm5hbWUiOiJDaGF0Ym90IFdpbmRvdyIsInZpZXciOiI8Q2FyZCBzaXplPVwibWRcIiBwYWRkaW5nPXswfT5cbiAgPENvbCBnYXA9ezB9PlxuICAgIDxSb3cgYWxpZ249XCJjZW50ZXJcIiBwYWRkaW5nPXt7IHg6IDQsIHk6IDMgfX0-XG4gICAgICA8SWNvbiBuYW1lPVwic3BhcmtsZVwiIGNvbG9yPVwicHJpbWFyeVwiIC8-XG4gICAgICA8VGl0bGUgdmFsdWU9e3RpdGxlfSBzaXplPVwic21cIiAvPlxuICAgICAgPFNwYWNlciAvPlxuICAgICAgPEJhZGdlIGxhYmVsPXtsZXZlbExhYmVsfSBjb2xvcj1cImluZm9cIiAvPlxuICAgIDwvUm93PlxuICAgIDxEaXZpZGVyIGZsdXNoIC8-XG5cbiAgICA8Q29sIHBhZGRpbmc9ezR9IGdhcD17Mn0gbWluSGVpZ2h0PVwiMTgwcHhcIj5cbiAgICAgIHttZXNzYWdlcy5tYXAoKG0pID0-IChcbiAgICAgICAgPFJvdyBrZXk9e20uaWR9IGp1c3RpZnk9e20ucm9sZSA9PT0gXCJ1c2VyXCIgPyBcImVuZFwiIDogXCJzdGFydFwifT5cbiAgICAgICAgICA8Qm94XG4gICAgICAgICAgICBwYWRkaW5nPXszfVxuICAgICAgICAgICAgcmFkaXVzPVwieGxcIlxuICAgICAgICAgICAgbWF4V2lkdGg9XCI4MCVcIlxuICAgICAgICAgICAgYmFja2dyb3VuZD17bS5yb2xlID09PSBcInVzZXJcIiA_IFwic3VyZmFjZS1zZWNvbmRhcnlcIiA6IFwic3VyZmFjZS1lbGV2YXRlZC1zZWNvbmRhcnlcIn1cbiAgICAgICAgICAgIGJvcmRlcj17eyBzaXplOiAxIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFRleHQgdmFsdWU9e20udGV4dH0gc2l6ZT1cInNtXCIgLz5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgPC9Sb3c-XG4gICAgICApKX1cblxuICAgICAge3Nob3dUb25lUGlja2VyICYmIChcbiAgICAgICAgPFRyYW5zaXRpb24-XG4gICAgICAgICAgPEJveCBrZXk9XCJ0b25lXCIgYmFja2dyb3VuZD1cInN1cmZhY2UtZWxldmF0ZWQtc2Vjb25kYXJ5XCIgcGFkZGluZz17M30gcmFkaXVzPVwibGdcIiBib3JkZXI9e3sgc2l6ZTogMSB9fT5cbiAgICAgICAgICAgIDxSb3cgZ2FwPXsyfSB3cmFwPVwid3JhcFwiPlxuICAgICAgICAgICAgICB7bGV2ZWxzLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT17aXRlbS52YWx1ZX1cbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBsYWJlbD17aXRlbS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e2l0ZW0udmFsdWUgPT09IGxldmVsID8gXCJzb2xpZFwiIDogXCJvdXRsaW5lXCJ9XG4gICAgICAgICAgICAgICAgICBjb2xvcj17aXRlbS52YWx1ZSA9PT0gbGV2ZWwgPyBcInByaW1hcnlcIiA6IFwic2Vjb25kYXJ5XCJ9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrQWN0aW9uPXt7IHR5cGU6IFwiY2hhdC5zZXRMZXZlbFwiLCBwYXlsb2FkOiB7IGxldmVsOiBpdGVtLnZhbHVlIH0gfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIDwvQm94PlxuICAgICAgICA8L1RyYW5zaXRpb24-XG4gICAgICApfVxuICAgIDwvQ29sPlxuXG4gICAgPERpdmlkZXIgZmx1c2ggLz5cblxuICAgIDxSb3cgYWxpZ249XCJjZW50ZXJcIiBwYWRkaW5nPXt7IHg6IDQsIHk6IDMgfX0gZ2FwPXsyfSBiYWNrZ3JvdW5kPVwic3VyZmFjZS1lbGV2YXRlZC1zZWNvbmRhcnlcIj5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgaWNvblN0YXJ0PVwiZ2xvYmVcIlxuICAgICAgICB1bmlmb3JtXG4gICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgIHZhcmlhbnQ9e3dlYkVuYWJsZWQgPyBcInNvbGlkXCIgOiBcIm91dGxpbmVcIn1cbiAgICAgICAgY29sb3I9e3dlYkVuYWJsZWQgPyBcImluZm9cIiA6IFwic2Vjb25kYXJ5XCJ9XG4gICAgICAgIG9uQ2xpY2tBY3Rpb249e3sgdHlwZTogXCJjaGF0LnRvZ2dsZVdlYlwiIH19XG4gICAgICAvPlxuICAgICAgPEJ1dHRvblxuICAgICAgICBpY29uU3RhcnQ9XCJsaWdodGJ1bGJcIlxuICAgICAgICB1bmlmb3JtXG4gICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgIHZhcmlhbnQ9e3Nob3dUb25lUGlja2VyID8gXCJzb2xpZFwiIDogXCJvdXRsaW5lXCJ9XG4gICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgb25DbGlja0FjdGlvbj17eyB0eXBlOiBcImNoYXQudG9nZ2xlVG9uZVwiIH19XG4gICAgICAvPlxuICAgICAgPEJ1dHRvblxuICAgICAgICBpY29uU3RhcnQ9XCJwbHVzXCJcbiAgICAgICAgdW5pZm9ybVxuICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgb25DbGlja0FjdGlvbj17eyB0eXBlOiBcImNoYXQuYWRkXCIgfX1cbiAgICAgIC8-XG4gICAgICA8U3BhY2VyIC8-XG4gICAgICA8Q2FwdGlvbiB2YWx1ZT17YExldmVsOiAke2xldmVsTGFiZWx9YH0gY29sb3I9XCJzZWNvbmRhcnlcIiAvPlxuICAgIDwvUm93PlxuICA8L0NvbD5cbjwvQ2FyZD4iLCJkZWZhdWx0U3RhdGUiOnsidGl0bGUiOiJBcmNhZGlhIiwid2ViRW5hYmxlZCI6ZmFsc2UsInNob3dUb25lUGlja2VyIjpmYWxzZSwibGV2ZWwiOiJtZWRpdW0iLCJsZXZlbExhYmVsIjoiTWVkaXVtIiwibGV2ZWxzIjpbeyJ2YWx1ZSI6Im1pbmltYWwiLCJsYWJlbCI6Ik1pbmltYWwifSx7InZhbHVlIjoibG93IiwibGFiZWwiOiJMb3cifSx7InZhbHVlIjoibWVkaXVtIiwibGFiZWwiOiJNZWRpdW0ifSx7InZhbHVlIjoiaGlnaCIsImxhYmVsIjoiSGlnaCJ9XSwibWVzc2FnZXMiOlt7ImlkIjoibTEiLCJyb2xlIjoiYXNzaXN0YW50IiwidGV4dCI6IkhpISBBc2sgbWUgYW55dGhpbmcuIn0seyJpZCI6Im0yIiwicm9sZSI6InVzZXIiLCJ0ZXh0IjoiR2l2ZSBtZSBpZGVhcyBmb3IgYSB3ZWVrZW5kIHByb2plY3QuIn0seyJpZCI6Im0zIiwicm9sZSI6ImFzc2lzdGFudCIsInRleHQiOiJUcnkgYSB3ZWF0aGVyIGFwcCwgYSBjaGF0Ym90LCBvciBhIG5vdGUgdG9vbC4ifV19LCJzdGF0ZXMiOltdfQ"
}
